<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Flipbook Portfolio</title>
<link href="https://fonts.googleapis.com/css2?family=Manist:wght@700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Sora:wght@400;500;600&display=swap" rel="stylesheet">

<script src="https://kit.fontawesome.com/b0f29e9bfe.js" crossorigin="anonymous"></script>

<style>

  body {
    font-family: 'Roboto', sans-serif;
    margin: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background: url('bg.png') no-repeat center center fixed;
    background-size: cover;
  }
a:hover {
  color: #2e4518; /* slightly darker shade of #405d27 */
  transform: scale(1.05);
}
/* Scale down entire content on screens smaller than 768px */
@media (max-width: 768px) {
  #flipbook-container {
    transform-origin: top left;
    transform: scale(0.45); /* shrink both height + width */
    width: 220%;  /* adjust if text cuts off horizontally */
    height: 220%; /* adjust if vertically overflowing */
  }

  /* Optional: adjust buttons and text for smaller screens */
  button, .page-links button {
    font-size: 3vw;
    padding: 0.5em 1em;
  }

  .page-content {
    font-size: 0.9em;
    line-height: 1.4em;
  }
}

  .container {
  position: relative;
  width: 80vw; /* keep same width as flipbook */
}

  .flipbook-container {
    width: 80vw;
    height: 80vh;
    border-radius: 10px;
    border: 2px solid #405d27;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    background: white;
    overflow: hidden;
    position: relative;
    display: flex;
    transition: width 0.28s ease;
  }

  .cover-mode {
    width: 40vw;
    margin-left: 40vw;
    display: flex;
    flex-direction: column;
    align-items: flex-start;

  }
 .last-page-mode {
    width: 40vw;
    margin-right: 40vw;
    display: flex;
    
    flex-direction: column;
    align-items: flex-start;
  }

  .cover-page {
    width: 100%;
    height: 100%;
    border-right: 1px solid #405d27;
    box-sizing: border-box;
    padding: 4vh 4vw;
    font-size: 1.8vw;
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: center;
    background:#e6f4d9;
    color: #222;
    position: relative;
  }
  .last-page {
    width: 100%;
    height: 100%;
    border-right: 1px solid #405d27;
    box-sizing: border-box;
    padding: 4vh 4vw;
    font-size: 1.8vw;
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: center;
    background: #fff;
    color: #222;
    position: relative;
  }


  .page-links {
    margin-top: 4vh;
    display: flex;
    gap: 1vw;
    justify-content: center;
    flex-wrap: nowrap;
	margin-top: -2vh;
  }
.page-number {
  position: absolute;
  bottom: 1.5vh; /* distance from bottom of page */
  font-size: 1.5vw;
  color: #405d27;
}

.page.left .page-number { left: 2vw; }
.page.right .page-number { right: 2vw; }
.cover-page .page-number{
           /* center for cover/last page */
  transform: translateX(-50%);
}
.last-page-mode .page-number {
           /* center for cover/last page */
  transform: translateX(-230%);
}

  .page-links button {
    background: #fff;
    color: #405d27;
    border: 2px solid #405d27;
    border-radius: 8px;
    padding: 8px 16px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 1vw;
  }

  .page-links button:hover {
    background: #405d27;
    color: #fff;
  }

  .page {
    flex: 1;
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 6vh 3vw 4vh;
    box-sizing: border-box;
    text-align: center;
    color: #333;
  }

  .page.left {
    border-right: 1px solid #405d27;
    background: #fff;
  }

  .page.right {
    border-left: 1px solid #405d27;
    background: #f9f9f9;
  }

  .page-number {
    position: absolute;
    bottom: 1.5vh;
    font-size: 1.5vw;
    color: #405d27;
  }

  .page.left .page-number { left: 2vw; }
  .page.right .page-number { right: 2vw; }

  .page-header {
    font-size: 2vw;
    color: #405d27;
    font-weight: 600;
    margin-bottom: 3vh;
  }

  .controls {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 1vh;
  height: 6vh;
  pointer-events: none; /* buttons will re-enable pointer-events */
}


/* absolute-positioned buttons so they do NOT shift layout when one is hidden */
button.nav {
  position: absolute;
  top: 200%;
  transform: translateY(-50%);
  background: none;
  border: none;
  cursor: pointer;
  width: 5vw;
  height: 5vw;
  display: flex;
  justify-content: center;
  align-items: center;
  transition: transform 0.2s ease, opacity 0.18s ease;
  pointer-events: auto; /* allow clicks */
}
#prevBtn { left: 1vw; }
#nextBtn { right: 1vw; }

/* keep images styling */
button.nav img {
  width: 100%;
  height: auto;
  filter: brightness(0) saturate(100%) invert(29%) sepia(11%) saturate(1024%) hue-rotate(55deg) brightness(95%) contrast(88%);
  transition: filter 0.3s ease, transform 0.2s ease, opacity 0.18s ease;
}

/* hide visually but keep space (not needed with absolute positioning but harmless) */
button.nav.hidden {
  visibility: hidden;
  opacity: 0;
  pointer-events: none;
}

button.nav:hover img {
  filter: brightness(0) saturate(100%) invert(22%) sepia(55%) saturate(557%) hue-rotate(50deg) brightness(96%) contrast(91%);
  transform: scale(1.1);
}

button.nav:disabled img {
  opacity: 0.4;
  cursor: default;
}


  .close-btn {
    margin-top: 30px;
    font-size: 1rem;
    border-radius: 10px;
    padding: 10px 15px;
    cursor: pointer;
    background: #d9534f;
    color: white;
    border: none;
    transition: background 0.3s ease;
  }

  .close-btn:hover {
    background: #c9302c;
  }
#nextBtn img {
  width: 84%;   /* reduce size (try 70% or 60% if you want even smaller) */
  height: auto;
}
</style>
</head>
<body>

<div class="container">
  <div class="flipbook-container" id="flipbook"></div>
 <div class="controls">
  <button class="nav" id="prevBtn">
    <img src="left.png" alt="Previous Page">
  </button>
  <button class="nav" id="nextBtn">
    <img src="right.png" alt="Next Page">
  </button>
</div>

</div>

<script>






const pagesContent = [
  null,
 `
  <div style="display:flex; flex-direction:column; justify-content:center; align-items:center; height:100%; font-family:'Fredoka One', sans-serif; text-align:center;">

  <div style="font-size:5vw; color:black; font-weight:700;font-family:'Fredoka One'">
    Hi!
  </div>

  <div style="font-size:4vw; color:#405d27; font-weight:700; margin-top:1vh;">
    I'm Anagha Srikrishna
  </div>

  <div style="font-size:1.8vw; color:#333; margin-top:3vh; font-weight:500;">
    Get to know me
  </div>

</div>
  `
,
  // About Me Page
  `
  <div style="display:flex; flex-direction:column; height:100%; justify-content:flex-start; align-items:center; padding-top:3vh;">
    <img src="anagha-2.png" alt="Anagha" style="max-width:50%; max-height:35%; object-fit:contain; margin-bottom:3vh;">
    <div style="font-family:'Manist', sans-serif; font-size:2vw; font-weight:400; text-align:center; margin-bottom:2vh;color:#405d27"><b>
      Hi, I’m Anagha Srikrishna.
 </b>
    </div>
    <div style="font-family:'Roboto', sans-serif; font-size:1vw; text-align:center; max-width:80%;">
      I’m a Computer Science student at Anna University with a deep interest in machine learning, data mining, and deep learning. Through internships at Wells Fargo and IIT Madras, I’ve worked on research projects that combine real-world data, advanced modeling, and innovative problem-solving. My work focuses on building intelligent systems and extracting meaningful insights, and I’m always exploring new ways to apply my skills to challenging, impactful projects.
    </div>

 <div style="position:absolute; bottom:2vh;">
    <a href="/Anagha_Resume_2025.pdf" target="_blank" style="color:#007bff; text-decoration:none; font-size:1vw;">
      View My Resume ↗
    </a>
  </div>

  </div>
  `,
  // Education & Skills
  `
  <div style="text-align:center; padding:2vh 0;">

  <!-- Education -->
  <div style="display:flex; align-items:center; gap:2vw; margin-bottom:20px;">
  <!-- Left: Image -->
  <div>
    <img src="annauniv.png" alt="Anna University" 
         style="width:150px; height:100px; border-radius:12px; border:2px solid #405d27;">
  </div>

  <!-- Right: Text -->
  <div>
    <p style="font-style:italic; font-size:1vw; line-height:1.5em; margin:0;">
      B.E. Computer Science and Engineering<br>
      College of Engineering Guindy, Anna University<br>
      Expected Graduation: 2026
    </p>
  </div>
</div>


  <!-- Skills -->
  <div style="text-align: left;">
<h2 style="color:#405d27; font-size:2vw; margin-bottom:1vh; text-align:center">Skills</h2>
    <!-- Languages -->
    <h3 style="color:#405d27; font-size:1vw; font-weight:600; margin-bottom:1vh;text-align: left;">Languages</h3>
    <div style="display:flex; flex-wrap:wrap; gap:0.5vw; margin-bottom:1.5vh;">
      <span style="border:1px solid #405d27; color:#405d27; border-radius:10px; padding:4px 8px; font-size:0.8vw;text-align: left;">Python</span>
      <span style="border:1px solid #405d27; color:#405d27; border-radius:10px; padding:4px 8px; font-size:0.8vw;">C/C++</span>
      <span style="border:1px solid #405d27; color:#405d27; border-radius:10px; padding:4px 8px; font-size:0.8vw;">Java</span>
      <span style="border:1px solid #405d27; color:#405d27; border-radius:10px; padding:4px 8px; font-size:0.8vw;">SQL</span>
      <span style="border:1px solid #405d27; color:#405d27; border-radius:10px; padding:4px 8px; font-size:0.8vw;">Bash/Shell</span>
    </div>

    <!-- Libraries & Frameworks -->
    <h3 style="color:#405d27; font-size:1vw; font-weight:600; margin-bottom:1vh;">Libraries</h3>
    <div style="display:flex; flex-wrap:wrap;  gap:0.5vw; margin-bottom:1.5vh;">
      <span style="border:1px solid #405d27; color:#405d27; border-radius:10px; padding:4px 8px; font-size:0.8vw;">PyTorch</span>
      <span style="border:1px solid #405d27; color:#405d27; border-radius:10px; padding:4px 8px; font-size:0.8vw;">Scikit-learn</span>
      <span style="border:1px solid #405d27; color:#405d27; border-radius:10px; padding:4px 8px; font-size:0.8vw;">OpenCV</span>
      
      <span style="border:1px solid #405d27; color:#405d27; border-radius:10px; padding:4px 8px; font-size:0.8vw;">Pandas</span>
      <span style="border:1px solid #405d27; color:#405d27; border-radius:10px; padding:4px 8px; font-size:0.8vw;">NumPy</span>
      <span style="border:1px solid #405d27; color:#405d27; border-radius:10px; padding:4px 8px; font-size:0.8vw;">Matplotlib</span>
      <span style="border:1px solid #405d27; color:#405d27; border-radius:10px; padding:4px 8px; font-size:0.8vw;">Seaborn</span>
    </div>

    <!-- Databases & Cloud -->
    <h3 style="color:#405d27; font-size:1vw; font-weight:600; margin-bottom:1vh;">Databases & Cloud</h3>
    <div style="display:flex; flex-wrap:wrap;  gap:0.5vw; margin-bottom:1.5vh;">
      <span style="border:1px solid #405d27; color:#405d27; border-radius:10px; padding:4px 8px; font-size:0.8vw;">MySQL</span>
      <span style="border:1px solid #405d27; color:#405d27; border-radius:10px; padding:4px 8px; font-size:0.8vw;">MongoDB</span>
      <span style="border:1px solid #405d27; color:#405d27; border-radius:10px; padding:4px 8px; font-size:0.8vw;">SQLite</span>
      <span style="border:1px solid #405d27; color:#405d27; border-radius:10px; padding:4px 8px; font-size:0.8vw;">AWS</span>
      <span style="border:1px solid #405d27; color:#405d27; border-radius:10px; padding:4px 8px; font-size:0.8vw;">Azure</span>
      <span style="border:1px solid #405d27; color:#405d27; border-radius:10px; padding:4px 8px; font-size:0.8vw;">Docker</span>
      <span style="border:1px solid #405d27; color:#405d27; border-radius:10px; padding:4px 8px; font-size:0.8vw;">Git</span>
    </div>

    <!-- Web & Tools -->
    <h3 style="color:#405d27; font-size:1vw; font-weight:600; margin-bottom:1vh;">Web & Tools</h3>
    <div style="display:flex; flex-wrap:wrap;  gap:0.5vw;">
      <span style="border:1px solid #405d27; color:#405d27; border-radius:10px; padding:4px 8px; font-size:0.8vw;">HTML</span>
      <span style="border:1px solid #405d27; color:#405d27; border-radius:10px; padding:4px 8px; font-size:0.8vw;">CSS</span>
      <span style="border:1px solid #405d27; color:#405d27; border-radius:10px; padding:4px 8px; font-size:0.8vw;">JavaScript</span>
      <span style="border:1px solid #405d27; color:#405d27; border-radius:10px; padding:4px 8px; font-size:0.8vw;">React.js</span>
      <span style="border:1px solid #405d27; color:#405d27; border-radius:10px; padding:4px 8px; font-size:0.8vw;">Node.js</span>
      <span style="border:1px solid #405d27; color:#405d27; border-radius:10px; padding:4px 8px; font-size:0.8vw;">REST APIs</span>
      <span style="border:1px solid #405d27; color:#405d27; border-radius:10px; padding:4px 8px; font-size:0.8vw;">Keycloak</span>
    </div>

  </div>
</div>


  `,
   
 // Page 4 (Research Projects - Part 1)
`
<div style="display:flex; flex-direction:column; gap:2vh; font-family:'Roboto', sans-serif; font-size:1vw; line-height:1.6em; position:relative;">

  <div style="display:flex; align-items:flex-start; gap:1vw; position:relative;">
    <img src="spatio.png" alt="Spatio-Temporal" 
         style="height:220px; width:150px; object-fit:cover; border-radius:12px; margin-left:-20px; z-index:1;">
    <div style="padding:1vh 1vw 1vh 20px; border:2px solid #405d27; border-radius:20px; flex:1;">
      <center><b>Spatio-Temporal Analysis of Air Quality Disparities Across Urban and Rural India
        <a href="/Spatio-Temporal.pdf" target="_blank" style="color:#007bff; text-decoration:none; font-size:1vw;"><br>View Paper ↗</a>
      </b></center>
      Conducted spatio-temporal analysis of air quality across 5 urban-rural pairs in India using 2.5+ years of multi-pollutant data, machine learning, and clustering; developed a Pollution Disparity Index (PDI) to quantify AQI variations and inform policy.
    </div>
  </div>

  <div style="display:flex; align-items:flex-start; gap:1vw; position:relative;">
    <img src="forecast.png" alt="Air Pollution Forecasting" 
         style="height:160px; width:150px; object-fit:cover; border-radius:12px; margin-left:-20px; z-index:1;">
    <div style="padding:1vh 1vw 1vh 20px; border:2px solid #405d27; border-radius:10px; flex:1;">
      <center><b>Automated Air Pollution Forecasting Using Time Series Models
        <a href="/Automated.pdf" target="_blank" style="color:#007bff; text-decoration:none; font-size:1vw;">View Paper ↗</a>
      </b></center>
      Developed an automated air quality forecasting system for Chennai using SARIMA (outperforming ARIMA and Prophet), real-time data, and daily retraining, achieving 13.6% MAPE.
    </div>
  </div>

</div>
`,

// Page 5 (Research Projects - Part 2)
`
<div style="display:flex; flex-direction:column; gap:1.5vh; font-family:'Roboto', sans-serif; font-size:0.9vw; line-height:1.5em;">

  <!-- AOI Project -->
  <div style="display:flex; align-items:flex-start; gap:1vw; position:relative;">
    <img src="aoi.png" alt="AOI Descriptive Rule Mining" 
         style="height:100px; width:150px; object-fit:cover; border-radius:12px; margin-left:-15px; z-index:1;">
    <div style="padding:0.5vh 1vw 0.5vh 15px; border:2px solid #405d27; border-radius:10px; flex:1;">
      <center><b>AOI-Inspired Descriptive Rule Mining: Unlocking Insights from Non-Hierarchical Data
        <a href="/AOI.pdf" target="_blank" style="color:#007bff; text-decoration:none; font-size:0.9vw;">View Paper ↗</a>
      </b></center>
      Adapted Attribute-Oriented Induction for non-hierarchical data to extract interpretable behavioral insights from Amazon Fashion Reviews.
    </div>
  </div>

  <!-- AML Project -->
  <div style="display:flex; align-items:flex-start; gap:1vw; position:relative;">
    <img src="aml.png" alt="Weighted Ensemble AML" 
         style="height:130px; width:150px; object-fit:cover; border-radius:12px; margin-left:-15px; z-index:1;">
    <div style="padding:0.5vh 1vw 0.5vh 15px; border:2px solid #405d27; border-radius:10px; flex:1;">
      <center><b>Weighted Ensemble Outlier Detection for Anti-Money Laundering
        <a href="/Weighted.pdf" target="_blank" style="color:#007bff; text-decoration:none; font-size:0.9vw;">View Paper ↗</a>
      </b></center>
      Developed a weighted ensemble for anti-money laundering detection, integrating statistical, density-, distance-, and graph-based models; achieved 92% sensitivity and 81% specificity on IBM AML dataset.
    </div>
  </div>

</div>

<h2 style="color:#405d27; font-size:2vw; margin-bottom:1vh; text-align:center">Organizations</h2>
  <div style="display:flex; align-items:flex-start; gap:1vw;">
    <img src="acm-ceg.png" alt="Weighted Ensemble AML" style="height:120px; width:120px;"> <!-- adjust manually -->
<div style="font-family:'Courier New', Courier, monospace; font-size:0.5; color:#405d27; text-align:center; margin-top:2vh;"> ACM-CEG, started in 2004, is the largest student-run tech club at CEG. I’ve been part of the club for 2+ years and currently serve as Chairperson, leading events like Prodigy and CodHer. <br> <a href="https://auceg.acm.org/" target="_blank" style="color:#007bff; text-decoration:none;">View ACM-CEG's events ↗</a> </div>
  </div>
</div>
`,

// Contact Page
`
<div style="display:flex; flex-direction:column; justify-content:center; align-items:center; height:100%; font-family:'Roboto', sans-serif; gap:4vh;">

    	<center><img src="contact.png" alt="AOI Descriptive Rule Mining" style="height:200px; width:290px;"></center>
    <div style="display:flex; flex-direction:column; gap:3vh;"> <!-- Changed flex-direction to column -->

        <!-- Email Button -->
        <a href="mailto:2022103066@student.annauniv.edu" 
           style="
            display:flex; 
            align-items:center; 
            gap:1vw; 
            background-color:#405d27; 
            color:white; 
            font-size:1.5vw; 
            padding:1.5vh 2vw; 
            border-radius:16px; 
            text-decoration:none; 
            transition: all 0.3s;
          ">
          <img src="https://cdn.jsdelivr.net/npm/simple-icons@v10/icons/microsoftoutlook.svg" 
               style="height:1em; width:1em; filter: invert(1);" 
               alt="Email Icon">
          2022103066@student.annauniv.edu
        </a>

        <!-- LinkedIn Button -->
        <a href="https://www.linkedin.com/in/anagha-srikrishna" target="_blank" 
           style="
            display:flex; 
            align-items:center; 
            gap:1vw; 
            background-color:#405d27; 
            color:white; 
            font-size:1vw; 
            padding:1.5vh 2vw; 
            border-radius:16px; 
            text-decoration:none; 
            transition: all 0.3s;
          ">
          <img src="https://cdn.jsdelivr.net/npm/simple-icons@v10/icons/linkedin.svg" 
               style="height:1em; width:1em; filter: invert(1);" 
               alt="LinkedIn Icon">
          LinkedIn:https://www.linkedin.com/in/anagha-srikrishna
        </a>

    </div>

    <div style="margin-top:5vh; font-size:2.5vw; color:#2e8b57; font-weight:bold; text-align:center;">
        Let’s Keep in Touch!
    </div>
<div style="text-align:center; margin-top:1vh;">
    <a href="javascript:void(0);" 
       onclick="renderCover()" 
       style="color:#2e8b57; font-weight:bold; text-decoration:underline; font-size:1.5vw;">
        Go to Cover Page
    </a>
</div>
</div>





`

];


const pageHeaders = {
  2: "About Me",
  3: "Education & Skills",
  4: "Research Projects",
  5: "",
  6: ""
};

const totalPages = pagesContent.length - 1;
let currentLeftPage = null;
const flipbook = document.getElementById('flipbook');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const controls = document.getElementById('controls');

function setControlsWidthForFlipbook() {
  const fbWidth = getComputedStyle(flipbook).width;
  controls.style.width = fbWidth;
  controls.style.maxWidth = fbWidth;
  controls.style.margin = '10px 0 0 0';
}

function renderCover() {
  flipbook.classList.add('cover-mode');
  flipbook.classList.remove('last-page-mode');
  flipbook.innerHTML = '';

  const cover = document.createElement('div');
  cover.className = 'cover-page';
  cover.innerHTML = `
    <div style="display:flex; flex-direction:column; justify-content:center; align-items:center; height:100%; font-family:'Roboto', sans-serif; text-align:center;">
      <div style="font-size:5vw; color:black; font-weight:700;">Hi!</div>
      <div style="font-size:4vw; color:#405d27; font-weight:700;">I'm Anagha Srikrishna</div>
      <div style="font-size:1.8vw; color:#333; margin-top:3vh; font-weight:500;">
        <br><br>Get to know me
        <div>
          <center>
            <img 
              src="cover.png" 
              alt="Anagha" 
              style="max-width:25%; max-height:20%; object-fit:contain; transition: transform 0.4s ease-in-out;" 
              onmouseover="this.style.transform='scale(1.1)'" 
              onmouseout="this.style.transform='scale(1)'"
            />
          </center>
        </div>
      </div>
    </div>
  `;

  const linksContainer = document.createElement('div');
  linksContainer.className = 'page-links';
  [
    { label: 'About', page: 2 },
    { label: 'Education & Skills', page: 3 },
    { label: 'Research Work', page: 4 },
    { label: 'Organizations', page: 5 },
    { label: 'Contact', page: 6 }
  ].forEach(({ label, page }) => {
    const btn = document.createElement('button');
    btn.textContent = label;
    btn.addEventListener('click', () => {
      currentLeftPage = page % 2 === 0 ? page : page - 1;
      if (page === 6) renderLastPage();
      else renderPages();
      updateButtons();
    });
    linksContainer.appendChild(btn);
  });

  cover.appendChild(linksContainer);
  flipbook.appendChild(cover);

  // Explicitly set nav buttons for cover page
  prevBtn.style.display = "none"; // hide left arrow
  nextBtn.style.display = "block"; // show right arrow
}



function renderPages() {
  flipbook.classList.remove('cover-mode', 'last-page-mode');
  flipbook.innerHTML = '';

  // LEFT PAGE
  const leftPage = document.createElement('div');
  leftPage.className = 'page left';
  leftPage.innerHTML = `
    ${pageHeaders[currentLeftPage] ? `<div class="page-header">${pageHeaders[currentLeftPage]}</div>` : ''}
    <div class="page-content">
      ${pagesContent[currentLeftPage] || ''}
    </div>
    <div class="page-number">${currentLeftPage}</div>
  `;
  flipbook.appendChild(leftPage);

  // RIGHT PAGE
  const rightPageNum = currentLeftPage + 1;
  if (rightPageNum <= totalPages) {
    const rightPage = document.createElement('div');
    rightPage.className = 'page right';
    rightPage.innerHTML = `
      ${pageHeaders[rightPageNum] ? `<div class="page-header">${pageHeaders[rightPageNum]}</div>` : ''}
      <div class="page-content">
        ${pagesContent[rightPageNum] || ''}
      </div>
      <div class="page-number">${rightPageNum}</div>
    `;
    flipbook.appendChild(rightPage);
  }

  // show both nav buttons on normal pages
  nextBtn.style.display = "block";
  prevBtn.style.display = "block";
}



function renderLastPage() {
  flipbook.classList.add('last-page-mode');
  flipbook.classList.remove('cover-mode');
  flipbook.innerHTML = '';

  const lastPageNum = 6;
  const lastPage = document.createElement('div');
  lastPage.className = 'last-page'; // same as normal pages
  lastPage.innerHTML = `
    ${pageHeaders[lastPageNum] ? `<div class="page-header">${pageHeaders[lastPageNum]}</div>` : ''}
    <div class="page-content">${pagesContent[lastPageNum] || ''}</div>
    <div class="page-number">${lastPageNum}</div>
  `;

  flipbook.appendChild(lastPage);

  // hide nav buttons on last page
  prevBtn.style.display = "none";
  nextBtn.style.display = "none";
}






function updateButtons() {
  // Cover page
  if (currentLeftPage === null) {
    prevBtn.style.display = 'none';
    nextBtn.style.display = 'block'; // always show next from cover
    return;
  }

  // Last page
  if (currentLeftPage + 1 >= totalPages) {
    nextBtn.style.display = 'none';
  } else {
    nextBtn.style.display = 'block';
  }

  // Any page except cover
  prevBtn.style.display = 'block';
}


prevBtn.addEventListener('click', () => {
  if (currentLeftPage === null) 
	return ;

  if (currentLeftPage === totalPages) {
    currentLeftPage -= 2;
    renderPages();
    updateButtons();
  } else if (currentLeftPage > 2) {
    currentLeftPage -= 2;
    renderPages();
    updateButtons();
  } else {
    currentLeftPage = null;
    renderCover();
    updateButtons();
  }
});

nextBtn.addEventListener('click', () => {
  if (currentLeftPage === null) {
    currentLeftPage = 2;
    renderPages();
    updateButtons();
  } else if (currentLeftPage + 2 < totalPages) {
    currentLeftPage += 2;
    renderPages();
    updateButtons();
  } else if (currentLeftPage + 2 === totalPages) {
    currentLeftPage += 2;
    renderLastPage();
    updateButtons();
  }
});

renderCover();

updateButtons();

window.addEventListener('resize', setControlsWidthForFlipbook);

</script>

</body>
</html>
